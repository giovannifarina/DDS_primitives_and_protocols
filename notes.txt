# GET RANDOM AVAILABLE PORT

from socket import socket

with socket() as s:
    s.bind(('',0))
    print(s.getsockname()[1])

https://medium.com/python-pandemonium/python-socket-communication-e10b39225a4c
https://stackabuse.com/the-python-help-system/
https://www.it-swarm.it/it/python/python-socket-riceve-una-grande-quantita-di-dati/1041386287/


class InputError(Error):
    # from https://docs.python.org/3/tutorial/errors.html
    # Exception raised for errors in the input.

    # Attributes:
    #    message -- explanation of the error

    def __init__(self,message):
        self.message = message

"""
we used socket.gethostname() so that the socket would be visible to the outside world. 
If we had used s.bind(('localhost', 80)) or s.bind(('127.0.0.1', 80)) 
we would still have a “server” socket, but one that was only visible within the same machine. 
s.bind(('', 80)) specifies that the socket is reachable by any address the machine happens to have.
"""

# per ora faccio chiudere le connessioni, poi userò il keep alive

# NOTES ON LINKS

# https://stackoverflow.com/questions/23876608/how-to-send-the-content-of-a-dictionary-properly-over-sockets-in-python3x
https://stackoverflow.com/questions/41250805/how-do-i-print-the-local-and-remote-address-and-port-of-a-connected-socket

"""
    The module contains the definitions of all link primitives,

    NOTES:
        - Anyone can connect to the process 
        - Every process receives all messages on a single port
        - Every process is equipped with a single type of link
        - Sockets are kept open
        - Processes exchange information encoded in JSON
        - All messages have a label and several contents
        - the socket is reachable by any address the machine happens to have.
"""

http://net-informations.com/python/net/thread.htm

https://ans.disi.unitn.it/redmine/projects/community-newtork-emulator/repository/mininet/revisions/c5f68226b8bffb0572afd0d12ed24836cd4c9aac/entry/examples/linuxrouter.py

http://csie.nqu.edu.tw/smallko/sdn/mininet_simple_router.htm

https://stackoverflow.com/questions/46595423/mininet-how-to-create-a-topology-with-two-routers-and-their-respective-hosts

https://github.com/mininet/mininet/blob/master/examples/linuxrouter.py

GUI https://github.com/mininet/mininet/blob/57294d013e780cccc6b4b9af151906b382c4d8a7/examples/miniedit.py

https://brandonrozek.com/blog/ipaddressesinpython/

http://intronetworks.cs.luc.edu/current2/uhtml/mininet.html

https://stackoverflow.com/questions/15727420/using-logging-in-multiple-modules

https://stackoverflow.com/questions/5114292/break-interrupt-a-time-sleep-in-python

https://docs.python-guide.org/writing/logging/

https://www.datadoghq.com/blog/python-logging-best-practices/